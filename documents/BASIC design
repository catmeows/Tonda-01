

BASIC PROGRAM

BASIC LINE:
LineNumber(2B),LineLength(1-2B),Statement(xB)[,Statement]:0x0C

LineNumber - MSB.LSB, never more than 9999, MSB=128 is program terminator, LineNumber 0 not accepted, it is used 
LineLenght - firstByte[.secondByte] - length=(firstByte<0xff)?firstByte+1:secondByte+256 - 0..511

STATEMENT:

StatementLength, StatementToken[[,Modifier [Parameters];]Parameters] 

StatementLength(1-2B) - firstByte[.secondByte] - length=(firstByte<0xff)?firstByte+1:secondByte+256 - 0..511




FIND LINE
ptr=PROGSTART
lineNum=256*mem[ptr]+mem[ptr+1]
if (lineNum==expectedLine) return ptr
if (lineNum>(40*256-1)) ERROR:Line not found
lineLen=mem[ptr+2]
if (lineLen==255) lineLen=lineLen+mem[ptr+3]
lineLen=lineLen+1
ptr=ptr+lineLen
repeat

FIND STATEMENT
counter=



